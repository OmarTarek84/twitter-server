{"version":3,"sources":["components/FollowList/Users/User/User.js","components/Homepage/Paginate/Paginate.js","components/Search/Tabs/SearchTab.js","components/Search/Search.js"],"names":["User","username","profilePic","firstName","lastName","loggedinFollowing","followUser","followLoading","followIndex","userIndex","parentUserClicked","ifFollowing","findIndex","u","className","onClick","src","alt","to","e","stopPropagation","style","display","localStorage","getItem","backgroundColor","color","disabled","Paginate","handlePageChange","pageSize","totalItemsCount","currentPage","itemClass","linkClass","activePage","itemsCountPerPage","pageRangeDisplayed","onChange","timeDifference","current","previous","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","Math","round","SearchTab","selectTabIndex","posts","deletePost","retweetReq","viewSinglePostReq","likePostReq","postActionLoading","retweetActionLoading","goToProfile","submitReplyReq","disableReply","pinPost","pinnedPostId","postLoading","users","userLoading","renderPosts","map","post","Post","postId","_id","postedBy","content","createdAt","Date","retweetData","likes","loggedInUsername","retweetUsers","combineretweetsAndPosts","replyTo","replyToUsername","originalPost","replyPostTypeReplyToUsername","renderUserList","user","index","onSelect","Spinner","width","length","Search","useState","searchVal","setSearchVal","tabIndex","setTabIndex","dispatch","useDispatch","pinToastId","useRef","replyToastId","retweetToastId","deleteToastId","useSelector","state","pages","userSearch","currentPageUser","pageSizeUser","totalItemsCountUser","pagesUser","userDetails","pageNumber","getPosts","searchUsers","useEffect","timeoutId","setTimeout","clearTimeout","console","log","type","value","target","originalPostId","likePost","replyPostId","history","push","backgroundGreenPostId","toast","warning","retweetPost","then","dismiss","success","formData","replyPost","reply","pinnedPost","pinPostUser"],"mappings":"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","file":"static/js/7.05d395af.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./User.scss\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst User = ({\r\n  username,\r\n  profilePic,\r\n  firstName,\r\n  lastName,\r\n  loggedinFollowing,\r\n  followUser,\r\n  followLoading,\r\n  followIndex,\r\n  userIndex,\r\n  parentUserClicked\r\n}) => {\r\n  const ifFollowing = loggedinFollowing\r\n    ? loggedinFollowing.findIndex((u) => u.username === username) > -1\r\n    : null;\r\n\r\n  return (\r\n    <div\r\n      className=\"userDet\"\r\n      key={username}\r\n      onClick={parentUserClicked}\r\n    >\r\n      <div className=\"details\">\r\n        <div className=\"picAndName\">\r\n          <img src={profilePic} alt={username} />\r\n          <Link className=\"firstlastname\" to={`/profile/${username}`} onClick={e => e.stopPropagation()}>\r\n            {firstName} {lastName}\r\n          </Link>\r\n          <span className=\"username\">@{username}</span>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"followBtn\"\r\n        style={{\r\n          display:\r\n            username === localStorage.getItem(\"userName\") || (!followUser || !loggedinFollowing)\r\n              ? \"none\"\r\n              : \"flex\",\r\n        }}\r\n      >\r\n        <button\r\n          style={{\r\n            backgroundColor: ifFollowing ? \"#00ACEE\" : \"white\",\r\n            color: ifFollowing ? \"white\" : \"#00ACEE\",\r\n          }}\r\n          disabled={followLoading && followIndex === userIndex}\r\n          onClick={followUser}\r\n        >\r\n          {ifFollowing ? \"Following\" : \"Follow\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport './Paginate.scss';\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nconst Paginate = ({handlePageChange, pageSize, totalItemsCount, currentPage }) => {\r\n    return (\r\n        <Pagination\r\n            itemClass=\"page-item\"\r\n            linkClass=\"page-link\"\r\n            activePage={currentPage}\r\n            itemsCountPerPage={pageSize}\r\n            totalItemsCount={totalItemsCount}\r\n            pageRangeDisplayed={10}\r\n            onChange={handlePageChange}\r\n      />\r\n    )\r\n};\r\n\r\nexport default Paginate;","import React from \"react\";\r\nimport \"./SearchTab.scss\";\r\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\r\nimport Post from \"../../Homepage/PostsList/Post/Post\";\r\nimport Spinner from \"../../Spinner/Spinner\";\r\nimport User from \"../../FollowList/Users/User/User\";\r\n\r\nconst timeDifference = (current, previous) => {\r\n  const msPerMinute = 60 * 1000;\r\n  const msPerHour = msPerMinute * 60;\r\n  const msPerDay = msPerHour * 24;\r\n  const msPerMonth = msPerDay * 30;\r\n  const msPerYear = msPerDay * 365;\r\n\r\n  const elapsed = current - previous;\r\n\r\n  if (elapsed < msPerMinute) {\r\n    if (elapsed / 1000 < 30) return \"Just Now\";\r\n    return Math.round(elapsed / 1000) + \" seconds ago\";\r\n  } else if (elapsed < msPerHour) {\r\n    return Math.round(elapsed / msPerMinute) + \" minutes ago\";\r\n  } else if (elapsed < msPerDay) {\r\n    return Math.round(elapsed / msPerHour) + \" hours ago\";\r\n  } else if (elapsed < msPerMonth) {\r\n    return Math.round(elapsed / msPerDay) + \" days ago\";\r\n  } else if (elapsed < msPerYear) {\r\n    return Math.round(elapsed / msPerMonth) + \" months ago\";\r\n  } else {\r\n    return Math.round(elapsed / msPerYear) + \" years ago\";\r\n  }\r\n};\r\n\r\nconst SearchTab = ({\r\n  selectTabIndex,\r\n  posts,\r\n  deletePost,\r\n  retweetReq,\r\n  viewSinglePostReq,\r\n  likePostReq,\r\n  postActionLoading,\r\n  retweetActionLoading,\r\n  goToProfile,\r\n  submitReplyReq,\r\n  disableReply,\r\n  pinPost,\r\n  pinnedPostId,\r\n  postLoading,\r\n  users,\r\n  userLoading\r\n}) => {\r\n  const renderPosts = posts.map((post) => {\r\n    return (\r\n      <Post\r\n        key={post._id}\r\n        postId={post._id}\r\n        firstName={post.postedBy.firstName}\r\n        lastName={post.postedBy.lastName}\r\n        username={post.postedBy.username}\r\n        content={post.content}\r\n        createdAt={timeDifference(\r\n          new Date(),\r\n          new Date(post.content ? post.createdAt : post.retweetData.createdAt)\r\n        )}\r\n        profilePic={post.postedBy.profilePic}\r\n        likePostReq={likePostReq}\r\n        likes={post.likes}\r\n        postActionLoading={postActionLoading}\r\n        loggedInUsername={localStorage.getItem(\"userName\")}\r\n        retweetReq={retweetReq}\r\n        retweetActionLoading={retweetActionLoading}\r\n        retweetUsers={post.retweetUsers}\r\n        retweetData={post.retweetData}\r\n        combineretweetsAndPosts={true}\r\n        replyTo={post.replyTo || null}\r\n        replyToUsername={\r\n          post.replyTo && post.replyTo.originalPost\r\n            ? post.replyTo.originalPost.postedBy.username\r\n            : null\r\n        }\r\n        replyPostTypeReplyToUsername={post.postedBy.username}\r\n        viewSinglePostReq={() =>\r\n          viewSinglePostReq(\r\n            post._id,\r\n            post.replyTo ? post.replyTo.originalPost._id : null\r\n          )\r\n        }\r\n        deletePost={deletePost}\r\n        goToProfile={goToProfile}\r\n        disableReply={disableReply}\r\n        pinPost={() => pinPost(post._id)}\r\n        pinnedPostId={pinnedPostId}\r\n        submitReplyReq={submitReplyReq}\r\n      />\r\n    );\r\n  });\r\n\r\n  const renderUserList = users.map((user, index) => {\r\n    return (\r\n      <User\r\n        key={user.username}\r\n        firstName={user.firstName}\r\n        lastName={user.lastName}\r\n        username={user.username}\r\n        profilePic={user.profilePic}\r\n        parentUserClicked={() => {}}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Tabs onSelect={selectTabIndex}>\r\n      <TabList>\r\n        <Tab>Posts</Tab>\r\n        <Tab>Users</Tab>\r\n      </TabList>\r\n\r\n      <TabPanel>{postLoading ? <Spinner width=\"60px\" />: (posts.length > 0 ? renderPosts: <h3 className=\"notfound\">No Posts Found.</h3>)}</TabPanel>\r\n      <TabPanel>{userLoading ? <Spinner width=\"60px\" />: (users.length > 0 ? renderUserList: <h3 className=\"notfound\">No Users Found.</h3>)}</TabPanel>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default SearchTab;\r\n","/* eslint-disable */\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./Search.scss\";\r\nimport SearchTab from \"./Tabs/SearchTab\";\r\nimport Paginate from \"../Homepage/Paginate/Paginate\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  deletePost,\r\n  getPosts,\r\n  likePost,\r\n  replyPost,\r\n  retweetPost,\r\n} from \"../../store/Actions/post\";\r\nimport { pinPostUser, searchUsers } from \"../../store/Actions/user\";\r\nimport history from \"../../history\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Search = () => {\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const [tabIndex, setTabIndex] = useState(0);\r\n\r\n  const dispatch = useDispatch();\r\n  const pinToastId = useRef();\r\n  const replyToastId = useRef();\r\n  const retweetToastId = useRef();\r\n  const deleteToastId = useRef();\r\n\r\n  const {\r\n    posts,\r\n    currentPage,\r\n    pageSize,\r\n    totalItemsCount,\r\n    pages,\r\n    postActionLoading,\r\n    retweetActionLoading,\r\n    postLoading,\r\n  } = useSelector((state) => state.post);\r\n  const {\r\n    users,\r\n    currentPageUser,\r\n    pageSizeUser,\r\n    totalItemsCountUser,\r\n    pagesUser,\r\n    userLoading\r\n  } = useSelector((state) => state.userSearch);\r\n\r\n  const { userDetails } = useSelector((state) => state.user);\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    if (tabIndex === 0) {\r\n      dispatch(getPosts(pageNumber, 30, searchVal));\r\n    } else {\r\n      dispatch(searchUsers(pageNumber, 30, searchVal, ''));\r\n    }\r\n  };\r\n\r\n  const renderPaginate = () => {\r\n    return (\r\n      <div className=\"paginate\">\r\n        {tabIndex === 0 ? (\r\n          <Paginate\r\n            handlePageChange={handlePageChange}\r\n            currentPage={currentPage}\r\n            pageSize={pageSize}\r\n            pages={pages}\r\n            totalItemsCount={totalItemsCount}\r\n          />\r\n        ) : (\r\n          <Paginate\r\n            handlePageChange={handlePageChange}\r\n            currentPage={currentPageUser}\r\n            pageSize={pageSizeUser}\r\n            pages={pagesUser}\r\n            totalItemsCount={totalItemsCountUser}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const arrayToRender = tabIndex === 0 ? posts : users;\r\n\r\n    // check if this is the first render or not\r\n    if (!searchVal && arrayToRender.length <= 0) {\r\n      // search immediately if this is the first render\r\n      //   search();\r\n      if (tabIndex === 0) {\r\n        dispatch(getPosts(1, 30, searchVal));\r\n      } else {\r\n        dispatch(searchUsers(1, 30, searchVal, ''));\r\n      }\r\n    } else {\r\n      // otherwise 500 ms timeout on type search\r\n      const timeoutId = setTimeout(() => {\r\n        if (searchVal) {\r\n          if (tabIndex === 0) {\r\n            dispatch(getPosts(1, 30, searchVal));\r\n          } else {\r\n            dispatch(searchUsers(1, 30, searchVal, ''))\r\n          }\r\n        }\r\n      }, 500);\r\n\r\n      // will run only with the second render (its objective is to clear the previous values from the first render if any)\r\n      return () => {\r\n        clearTimeout(timeoutId);\r\n      };\r\n    }\r\n  }, [searchVal, tabIndex, dispatch]);\r\n\r\n  const selectTabIndex = (index) => {\r\n    setTabIndex(index);\r\n  };\r\n\r\n  const likePostReq = (postId, originalPostId) => {\r\n    dispatch(likePost(postId, originalPostId));\r\n  };\r\n\r\n  const goToProfile = (username) => {\r\n    history.push(`/profile/${username}`);\r\n  };\r\n\r\n  const retweetReq = (postId, originalPostId) => {\r\n    retweetToastId.current = toast.warning(\"Submitting Your retweet...\");\r\n    dispatch(retweetPost(postId, originalPostId)).then(() => {\r\n      toast.dismiss(retweetToastId.current);\r\n      toast.success(\"Retweet Success\");\r\n    });\r\n  };\r\n\r\n  const submitReplyReq = (formData, postId) => {\r\n    replyToastId.current = toast.warning(\"Submitting Your Reply...\");\r\n    dispatch(replyPost(formData.reply, postId)).then(() => {\r\n      toast.dismiss(replyToastId.current);\r\n      toast.success(\"Reply Post Success\");\r\n    });\r\n  };\r\n\r\n  const viewSinglePostReq = (postId, replyPostId) => {\r\n    history.push(`/post/${replyPostId || postId}`, {\r\n      postId: replyPostId || postId,\r\n      backgroundGreenPostId: postId,\r\n    });\r\n  };\r\n\r\n  const deletePostReq = (postId, originalPostId) => {\r\n    deleteToastId.current = toast.warning(\"Delete post in progress\");\r\n    dispatch(deletePost(postId, originalPostId)).then(() => {\r\n      toast.dismiss(deleteToastId.current);\r\n      toast.success(\"Delete Post Success\");\r\n    });\r\n  };\r\n\r\n  const pinPost = (postId) => {\r\n    pinToastId.current = toast.warning(\"Pinning Post...\");\r\n    dispatch(pinPostUser(postId)).then(() => {\r\n      toast.dismiss(pinToastId.current);\r\n      toast.success(\"Pin Post Success\");\r\n    });\r\n  };\r\n\r\n  console.log(\"SEARCH RENDERED\");\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <h2>Search</h2>\r\n      <div className=\"input\">\r\n        <i className=\"fa fa-search\"></i>\r\n        <input\r\n          type=\"text\"\r\n          value={searchVal}\r\n          onChange={(e) => setSearchVal(e.target.value)}\r\n        />\r\n      </div>\r\n      {\r\n        userLoading || postLoading || (tabIndex === 0 && pages <= 1) || (tabIndex === 1 && pagesUser <= 1) ? null: renderPaginate()\r\n      }\r\n      <div className=\"tab\">\r\n        <SearchTab\r\n          likePostReq={likePostReq}\r\n          viewSinglePostReq={viewSinglePostReq}\r\n          retweetReq={retweetReq}\r\n          deletePost={deletePostReq}\r\n          postLoading={postLoading}\r\n          postActionLoading={postActionLoading}\r\n          retweetActionLoading={retweetActionLoading}\r\n          selectTabIndex={selectTabIndex}\r\n          goToProfile={goToProfile}\r\n          disableReply={tabIndex === 1}\r\n          submitReplyReq={submitReplyReq}\r\n          pinnedPostId={\r\n            userDetails && userDetails.pinnedPost\r\n              ? userDetails.pinnedPost._id\r\n              : null\r\n          }\r\n          pinPost={pinPost}\r\n          posts={posts}\r\n          users={users}\r\n          userLoading={userLoading}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"sourceRoot":""}