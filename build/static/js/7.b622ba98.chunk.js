(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[7],{143:function(e,t,n){"use strict";var s=n(2),o=(n(1),n(144),n(153)),c=n.n(o);t.a=function(e){var t=e.handlePageChange,n=e.pageSize,o=e.totalItemsCount,a=e.currentPage;return Object(s.jsx)(c.a,{itemClass:"page-item",linkClass:"page-link",activePage:a,itemsCountPerPage:n,totalItemsCount:o,pageRangeDisplayed:10,onChange:t})}},144:function(e,t,n){},147:function(e,t,n){"use strict";var s=n(2),o=(n(1),n(148),n(13));t.a=function(e){var t=e.username,n=e.profilePic,c=e.firstName,a=e.lastName,i=e.loggedinFollowing,r=e.followUser,l=e.followLoading,u=e.followIndex,d=e.userIndex,p=e.parentUserClicked,b=i?i.findIndex((function(e){return e.username===t}))>-1:null;return Object(s.jsxs)("div",{className:"userDet",onClick:p,children:[Object(s.jsx)("div",{className:"details",children:Object(s.jsxs)("div",{className:"picAndName",children:[Object(s.jsx)("img",{src:n,alt:t}),Object(s.jsxs)(o.a,{className:"firstlastname",to:"/profile/".concat(t),onClick:function(e){return e.stopPropagation()},children:[c," ",a]}),Object(s.jsxs)("span",{className:"username",children:["@",t]})]})}),Object(s.jsx)("div",{className:"followBtn",style:{display:t!==localStorage.getItem("userName")&&r&&i?"flex":"none"},children:Object(s.jsx)("button",{style:{backgroundColor:b?"#00ACEE":"white",color:b?"white":"#00ACEE"},disabled:l&&u===d,onClick:r,children:b?"Following":"Follow"})})]},t)}},148:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var s=n(2),o=n(140),c=n(1),a=(n(177),n(178),n(154)),i=n(149),r=n(44),l=n(147),u=function(e,t){var n=6e4,s=36e5,o=864e5,c=2592e6,a=31536e6,i=e-t;return i<n?i/1e3<30?"Just Now":Math.round(i/1e3)+" seconds ago":i<s?Math.round(i/n)+" minutes ago":i<o?Math.round(i/s)+" hours ago":i<c?Math.round(i/o)+" days ago":i<a?Math.round(i/c)+" months ago":Math.round(i/a)+" years ago"},d=function(e){var t=e.selectTabIndex,n=e.posts,o=e.deletePost,c=e.retweetReq,d=e.viewSinglePostReq,p=e.likePostReq,b=e.postActionLoading,g=e.retweetActionLoading,j=e.goToProfile,f=e.submitReplyReq,m=e.disableReply,h=e.pinPost,O=e.pinnedPostId,P=e.postLoading,w=e.users,x=e.userLoading,y=n.map((function(e){return Object(s.jsx)(i.a,{postId:e._id,firstName:e.postedBy.firstName,lastName:e.postedBy.lastName,username:e.postedBy.username,content:e.content,createdAt:u(new Date,new Date(e.content?e.createdAt:e.retweetData.createdAt)),profilePic:e.postedBy.profilePic,likePostReq:p,likes:e.likes,postActionLoading:b,loggedInUsername:localStorage.getItem("userName"),retweetReq:c,retweetActionLoading:g,retweetUsers:e.retweetUsers,retweetData:e.retweetData,combineretweetsAndPosts:!0,replyTo:e.replyTo||null,replyToUsername:e.replyTo&&e.replyTo.originalPost?e.replyTo.originalPost.postedBy.username:null,replyPostTypeReplyToUsername:e.postedBy.username,viewSinglePostReq:function(){return d(e._id,e.replyTo?e.replyTo.originalPost._id:null)},deletePost:o,goToProfile:j,disableReply:m,pinPost:function(){return h(e._id)},pinnedPostId:O,submitReplyReq:f},e._id)})),N=w.map((function(e,t){return Object(s.jsx)(l.a,{firstName:e.firstName,lastName:e.lastName,username:e.username,profilePic:e.profilePic,parentUserClicked:function(){}},e.username)}));return Object(s.jsxs)(a.d,{onSelect:t,children:[Object(s.jsxs)(a.b,{children:[Object(s.jsx)(a.a,{children:"Posts"}),Object(s.jsx)(a.a,{children:"Users"})]}),Object(s.jsx)(a.c,{children:P?Object(s.jsx)(r.a,{width:"60px"}):n.length>0?y:Object(s.jsx)("h3",{className:"notfound",children:"No Posts Found."})}),Object(s.jsx)(a.c,{children:x?Object(s.jsx)(r.a,{width:"60px"}):w.length>0?N:Object(s.jsx)("h3",{className:"notfound",children:"No Users Found."})})]})},p=n(143),b=n(21),g=n(142),j=n(141),f=n(12),m=n(45);t.default=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),r=Object(o.a)(i,2),l=r[0],u=r[1],h=Object(b.b)(),O=Object(c.useRef)(),P=Object(c.useRef)(),w=Object(c.useRef)(),x=Object(c.useRef)(),y=Object(b.c)((function(e){return e.post})),N=y.posts,R=y.currentPage,v=y.pageSize,C=y.totalItemsCount,S=y.pages,I=y.postActionLoading,T=y.retweetActionLoading,k=y.postLoading,A=Object(b.c)((function(e){return e.userSearch})),L=A.users,U=A.currentPageUser,q=A.pageSizeUser,D=A.totalItemsCountUser,E=A.pagesUser,B=A.userLoading,M=Object(b.c)((function(e){return e.user})).userDetails,_=function(e){h(0===l?Object(g.c)(e,30,n):Object(j.c)(e,30,n,""))};Object(c.useEffect)((function(){if(n||!((0===l?N:L).length<=0)){var e=setTimeout((function(){n&&h(0===l?Object(g.c)(1,30,n):Object(j.c)(1,30,n,""))}),500);return function(){clearTimeout(e)}}h(0===l?Object(g.c)(1,30,n):Object(j.c)(1,30,n,""))}),[n,l,h]);return console.log("SEARCH RENDERED"),Object(s.jsxs)("div",{className:"search",children:[Object(s.jsx)("h2",{children:"Search"}),Object(s.jsxs)("div",{className:"input",children:[Object(s.jsx)("i",{className:"fa fa-search"}),Object(s.jsx)("input",{type:"text",value:n,onChange:function(e){return a(e.target.value)}})]}),B||k||0===l&&S<=1||1===l&&E<=1?null:Object(s.jsx)("div",{className:"paginate",children:0===l?Object(s.jsx)(p.a,{handlePageChange:_,currentPage:R,pageSize:v,pages:S,totalItemsCount:C}):Object(s.jsx)(p.a,{handlePageChange:_,currentPage:U,pageSize:q,pages:E,totalItemsCount:D})}),Object(s.jsx)("div",{className:"tab",children:Object(s.jsx)(d,{likePostReq:function(e,t){h(Object(g.d)(e,t))},viewSinglePostReq:function(e,t){f.a.push("/post/".concat(t||e),{postId:t||e,backgroundGreenPostId:e})},retweetReq:function(e,t){w.current=m.b.warning("Submitting Your retweet..."),h(Object(g.f)(e,t)).then((function(){m.b.dismiss(w.current),m.b.success("Retweet Success")}))},deletePost:function(e,t){x.current=m.b.warning("Delete post in progress"),h(Object(g.b)(e,t)).then((function(){m.b.dismiss(x.current),m.b.success("Delete Post Success")}))},postLoading:k,postActionLoading:I,retweetActionLoading:T,selectTabIndex:function(e){u(e)},goToProfile:function(e){f.a.push("/profile/".concat(e))},disableReply:1===l,submitReplyReq:function(e,t){P.current=m.b.warning("Submitting Your Reply..."),h(Object(g.e)(e.reply,t)).then((function(){m.b.dismiss(P.current),m.b.success("Reply Post Success")}))},pinnedPostId:M&&M.pinnedPost?M.pinnedPost._id:null,pinPost:function(e){O.current=m.b.warning("Pinning Post..."),h(Object(j.b)(e)).then((function(){m.b.dismiss(O.current),m.b.success("Pin Post Success")}))},posts:N,users:L,userLoading:B})})]})}}}]);
//# sourceMappingURL=7.b622ba98.chunk.js.map