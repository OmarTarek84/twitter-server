(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[9],{140:function(e,o,l){"use strict";l.d(o,"a",(function(){return a}));var t=l(46);function a(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var l=[],t=!0,a=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done)&&(l.push(r.value),!o||l.length!==o);t=!0);}catch(i){a=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return l}}(e,o)||Object(t.a)(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},145:function(e,o,l){"use strict";var t=l(2),a=(l(0),l(146),l(13));o.a=function(e){var o=e.username,l=e.profilePic,n=e.firstName,r=e.lastName,s=e.loggedinFollowing,i=e.followUser,c=e.followLoading,f=e.followIndex,u=e.userIndex,d=e.parentUserClicked,w=s?s.findIndex((function(e){return e.username===o}))>-1:null;return Object(t.jsxs)("div",{className:"userDet",onClick:d,children:[Object(t.jsx)("div",{className:"details",children:Object(t.jsxs)("div",{className:"picAndName",children:[Object(t.jsx)("img",{src:l,alt:o}),Object(t.jsxs)(a.a,{className:"firstlastname",to:"/profile/".concat(o),onClick:function(e){return e.stopPropagation()},children:[n," ",r]}),Object(t.jsxs)("span",{className:"username",children:["@",o]})]})}),Object(t.jsx)("div",{className:"followBtn",style:{display:o!==localStorage.getItem("userName")&&i&&s?"flex":"none"},children:Object(t.jsx)("button",{style:{backgroundColor:w?"#00ACEE":"white",color:w?"white":"#00ACEE"},disabled:c&&f===u,onClick:i,children:w?"Following":"Follow"})})]},o)}},146:function(e,o,l){},175:function(e,o,l){},176:function(e,o,l){},193:function(e,o,l){"use strict";l.r(o);var t=l(2),a=l(32),n=l.n(a),r=l(42),s=l(140),i=l(3),c=l(1),f=l(0),u=l(21),d=l(153),w=l(43),m=l(12),g=l(6),j=l(44),b=(l(175),l(145)),p=(l(176),function(e){var o=e.following,l=e.followers,a=e.tabIndex,n=e.loggedinFollowing,r=e.followUser,s=e.followLoading,i=e.followIndex;e.userIndex;return(0===a?o:l).map((function(e,o){return Object(t.jsx)(b.a,{firstName:e.firstName,lastName:e.lastName,username:e.username,profilePic:e.profilePic,loggedinFollowing:n,followUser:function(l){return r(l,e.username,e.firstName,e.lastName,e.profilePic,o)},followLoading:s,followIndex:i,userIndex:o,parentUserClicked:function(){}},e.username)}))}),h={following:[],followers:[],username:null,listLoading:!1,listError:null,firstName:null,lastName:null,followLoading:!1,followIndex:0},O=function(e,o){switch(o.type){case"list_loading":return Object(c.a)(Object(c.a)({},e),{},{listLoading:!0,listError:null});case"fetch_list":return Object(c.a)(Object(c.a)({},e),{},{following:o.following,followers:o.followers,username:o.username,firstName:o.firstName,lastName:o.lastName,listLoading:!1,listError:null});case"list_error":return Object(c.a)(Object(c.a)({},e),{},{listLoading:!1,listError:o.listError});case"follow_loading":return Object(c.a)(Object(c.a)({},e),{},{followLoading:!0,followIndex:o.followIndex});case"follow_user":return"Add"===o.resType?o.profileUsername===o.follower.username?Object(c.a)(Object(c.a)({},e),{},{following:[].concat(Object(i.a)(e.following),[o.mainUserFollowing]),followLoading:!1}):Object(c.a)(Object(c.a)({},e),{},{followLoading:!1}):o.profileUsername===o.follower.username?Object(c.a)(Object(c.a)({},e),{},{following:e.following.filter((function(e){return e.username!==o.mainUserFollowing.username})),followLoading:!1}):Object(c.a)(Object(c.a)({},e),{},{followLoading:!1});default:return e}};o.default=function(e){var o=Object(f.useReducer)(O,h),l=Object(s.a)(o,2),a=l[0],i=l[1],c=Object(u.b)(),b=Object(u.c)((function(e){return e.user})).userDetails,x=Object(f.useState)(m.a.location&&m.a.location.state?m.a.location.state.tabIndex:0),N=Object(s.a)(x,2),y=N[0],v=N[1],I=function(){var o=Object(r.a)(n.a.mark((function o(l,t,a,r,s,f){var u;return n.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l.stopPropagation(),i({type:"follow_loading",followIndex:f}),o.next=4,w.a.put("/user/follow/".concat(t),{},{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}});case 4:u=o.sent,c({type:g.FOLLOW_USER,newfollowingUser:u.data&&u.data.newfollowingUser?u.data.newfollowingUser:null}),i({type:"follow_user",follower:{firstName:b.firstName,lastName:b.lastName,email:b.email,profilePic:b.profilePic,username:b.username},resType:u.data.type,tabIndex:y,profileUsername:e.match.params.username,mainUserFollowing:{firstName:a,lastName:r,profilePic:s,username:t}});case 7:case"end":return o.stop()}}),o)})));return function(e,l,t,a,n,r){return o.apply(this,arguments)}}();return Object(f.useEffect)((function(){console.log(m.a.location),i({type:"list_loading"});var o=function(){var o=Object(r.a)(n.a.mark((function o(){var l;return n.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,w.a.get("/user/followList/".concat(e.match.params.username),{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}});case 3:l=o.sent,console.log(l.data),i({type:"fetch_list",following:l.data.following,followers:l.data.followers,username:l.data.username,firstName:l.data.firstName,lastName:l.data.lastName}),o.next=12;break;case 8:o.prev=8,o.t0=o.catch(0),console.log(o.t0),i({type:"list_error",listError:o.t0.response&&o.t0.response.data&&o.t0.response.data.message?o.t0.response.data.message:o.t0.message});case 12:case"end":return o.stop()}}),o,null,[[0,8]])})));return function(){return o.apply(this,arguments)}}();m.a.location&&m.a.location.state&&m.a.location.state.following?i({type:"fetch_list",following:m.a.location.state.following,followers:m.a.location.state.followers,username:m.a.location.state.username,firstName:m.a.location.state.firstName,lastName:m.a.location.state.lastName}):o()}),[e.match.params.username]),Object(t.jsxs)("div",{className:"followlist",children:[Object(t.jsxs)("h2",{children:[a&&a.firstName," ",a.lastName&&a.lastName]}),Object(t.jsx)("div",{className:"tabs",children:Object(t.jsxs)(d.d,{onSelect:function(e){v(e)},defaultIndex:y,children:[Object(t.jsxs)(d.b,{children:[Object(t.jsx)(d.a,{children:"Following"}),Object(t.jsx)(d.a,{children:"Followers"})]}),Object(t.jsx)(d.c,{children:a.listLoading?Object(t.jsx)(j.a,{width:"60"}):a.listError?a.listError:a.following.length>0?Object(t.jsx)(p,{following:a.following,followUser:I,loggedinFollowing:b?b.following:null,tabIndex:y,followLoading:a.followLoading,followIndex:a.followIndex}):Object(t.jsx)("h4",{className:"nofollow",children:"You are not following any users yet"})}),Object(t.jsx)(d.c,{children:a.listLoading?Object(t.jsx)(j.a,{width:"60"}):a.listError?a.listError:a.followers.length>0?Object(t.jsx)(p,{followers:a.followers,followUser:I,loggedinFollowing:b?b.following:null,tabIndex:y,followLoading:a.followLoading,followIndex:a.followIndex}):Object(t.jsx)("h4",{className:"nofollow",children:"You have no followers yet"})})]})})]})}}}]);
//# sourceMappingURL=9.c0da8eac.chunk.js.map