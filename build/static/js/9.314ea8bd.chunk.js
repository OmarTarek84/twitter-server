(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[9],{118:function(e,t,o){},119:function(e,t,o){},136:function(e,t,o){"use strict";o.r(t);var l=o(2),a=o(21),n=o.n(a),r=o(27),s=o(83),i=o(4),c=o(1),f=o(0),u=o(16),d=o(96),w=o(28),m=o(12),g=o(6),j=o(29),b=(o(118),o(88)),p=(o(119),function(e){var t=e.following,o=e.followers,a=e.tabIndex,n=e.loggedinFollowing,r=e.followUser,s=e.followLoading,i=e.followIndex;e.userIndex;return(0===a?t:o).map((function(e,t){return Object(l.jsx)(b.a,{firstName:e.firstName,lastName:e.lastName,username:e.username,profilePic:e.profilePic,loggedinFollowing:n,followUser:function(o){return r(o,e.username,t)},followLoading:s,followIndex:i,userIndex:t,parentUserClicked:function(){}},e.username)}))}),x={following:[],followers:[],username:null,listLoading:!1,listError:null,firstName:null,lastName:null,followLoading:!1,followIndex:0},O=function(e,t){switch(t.type){case"list_loading":return Object(c.a)(Object(c.a)({},e),{},{listLoading:!0,listError:null});case"fetch_list":return Object(c.a)(Object(c.a)({},e),{},{following:t.following,followers:t.followers,username:t.username,firstName:t.firstName,lastName:t.lastName,listLoading:!1,listError:null});case"list_error":return Object(c.a)(Object(c.a)({},e),{},{listLoading:!1,listError:t.listError});case"follow_loading":return Object(c.a)(Object(c.a)({},e),{},{followLoading:!0,followIndex:t.followIndex});case"follow_user":return"Add"===t.resType?Object(c.a)(Object(c.a)({},e),{},{followers:[].concat(Object(i.a)(e.followers),[t.follower]),followLoading:!1}):Object(c.a)(Object(c.a)({},e),{},{followers:e.followers.filter((function(e){return e.username!==t.follower.username})),followLoading:!1});default:return e}};t.default=function(e){var t=Object(f.useReducer)(O,x),o=Object(s.a)(t,2),a=o[0],i=o[1],c=Object(u.b)(),b=Object(u.c)((function(e){return e.user})).userDetails,h=Object(f.useState)(m.a.location&&m.a.location.state?m.a.location.state.tabIndex:0),N=Object(s.a)(h,2),y=N[0],v=N[1],I=function(){var e=Object(r.a)(n.a.mark((function e(t,o,l){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),i({type:"follow_loading",followIndex:l}),e.next=4,w.a.put("/user/follow/".concat(o),{},{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}});case 4:a=e.sent,c({type:g.FOLLOW_USER,newfollowingUser:a.data&&a.data.newfollowingUser?a.data.newfollowingUser:null}),i({type:"follow_user",follower:{firstName:b.firstName,lastName:b.lastName,email:b.email,profilePic:b.profilePic,username:b.username},resType:a.data.type});case 7:case"end":return e.stop()}}),e)})));return function(t,o,l){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){console.log(m.a.location),i({type:"list_loading"});var t=function(){var t=Object(r.a)(n.a.mark((function t(){var o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("/user/followList/".concat(e.match.params.username),{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}});case 3:o=t.sent,console.log(o.data),i({type:"fetch_list",following:o.data.following,followers:o.data.followers,username:o.data.username,firstName:o.data.firstName,lastName:o.data.lastName}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),i({type:"list_error",listError:t.t0.response&&t.t0.response.data&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();m.a.location&&m.a.location.state&&m.a.location.state.following?i({type:"fetch_list",following:m.a.location.state.following,followers:m.a.location.state.followers,username:m.a.location.state.username,firstName:m.a.location.state.firstName,lastName:m.a.location.state.lastName}):t()}),[e.match.params.username]),Object(l.jsxs)("div",{className:"followlist",children:[Object(l.jsxs)("h2",{children:[a&&a.firstName," ",a.lastName&&a.lastName]}),Object(l.jsx)("div",{className:"tabs",children:Object(l.jsxs)(d.d,{onSelect:function(e){v(e)},defaultIndex:y,children:[Object(l.jsxs)(d.b,{children:[Object(l.jsx)(d.a,{children:"Following"}),Object(l.jsx)(d.a,{children:"Followers"})]}),Object(l.jsx)(d.c,{children:a.listLoading?Object(l.jsx)(j.a,{width:"60"}):a.listError?a.listError:Object(l.jsx)(p,{following:a.following,followUser:I,loggedinFollowing:b?b.following:null,tabIndex:y,followLoading:a.followLoading,followIndex:a.followIndex})}),Object(l.jsx)(d.c,{children:a.listLoading?Object(l.jsx)(j.a,{width:"60"}):a.listError?a.listError:Object(l.jsx)(p,{followers:a.followers,followUser:I,loggedinFollowing:b?b.following:null,tabIndex:y,followLoading:a.followLoading,followIndex:a.followIndex})})]})})]})}},83:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var l=o(31);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var o=[],l=!0,a=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(l=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(i){a=!0,n=i}finally{try{l||null==s.return||s.return()}finally{if(a)throw n}}return o}}(e,t)||Object(l.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},88:function(e,t,o){"use strict";var l=o(2),a=(o(0),o(89),o(13));t.a=function(e){var t=e.username,o=e.profilePic,n=e.firstName,r=e.lastName,s=e.loggedinFollowing,i=e.followUser,c=e.followLoading,f=e.followIndex,u=e.userIndex,d=e.parentUserClicked,w=s?s.findIndex((function(e){return e.username===t}))>-1:null;return Object(l.jsxs)("div",{className:"userDet",onClick:d,children:[Object(l.jsx)("div",{className:"details",children:Object(l.jsxs)("div",{className:"picAndName",children:[Object(l.jsx)("img",{src:o,alt:t}),Object(l.jsxs)(a.a,{className:"firstlastname",to:"/profile/".concat(t),onClick:function(e){return e.stopPropagation()},children:[n," ",r]}),Object(l.jsxs)("span",{className:"username",children:["@",t]})]})}),Object(l.jsx)("div",{className:"followBtn",style:{display:t!==localStorage.getItem("userName")&&i&&s?"flex":"none"},children:Object(l.jsx)("button",{style:{backgroundColor:w?"#00ACEE":"white",color:w?"white":"#00ACEE"},disabled:c&&f===u,onClick:i,children:w?"Following":"Follow"})})]},t)}},89:function(e,t,o){}}]);
//# sourceMappingURL=9.314ea8bd.chunk.js.map