{"version":3,"sources":["components/FollowList/Users/Users.js","components/FollowList/FollowList.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/FollowList/Users/User/User.js"],"names":["Users","following","followers","tabIndex","loggedinFollowing","followUser","followLoading","followIndex","userIndex","map","user","index","User","firstName","lastName","username","profilePic","e","parentUserClicked","initialState","listLoading","listError","reducer","state","action","type","resType","follower","filter","p","FollowList","props","useReducer","listState","dispatch","dispatch2","useDispatch","userDetails","useSelector","useState","history","location","settabIndex","a","stopPropagation","axios","put","headers","Authorization","localStorage","getItem","response","FOLLOW_USER","newfollowingUser","data","email","useEffect","console","log","getFollowList","get","match","params","message","className","onSelect","defaultIndex","Spinner","width","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ifFollowing","findIndex","u","onClick","src","alt","to","style","display","backgroundColor","color","disabled"],"mappings":"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","file":"static/js/9.314ea8bd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport User from \"./User/User\";\r\nimport \"./Users.scss\";\r\n\r\nconst Users = ({ following, followers, tabIndex, loggedinFollowing, followUser, followLoading, followIndex, userIndex }) => {\r\n  let arrayToBeRendered = tabIndex === 0 ? following : followers;\r\n\r\n  const renderFollowList = arrayToBeRendered.map((user, index) => {\r\n    return (\r\n      <User\r\n        key={user.username}\r\n        firstName={user.firstName}\r\n        lastName={user.lastName}\r\n        username={user.username}\r\n        profilePic={user.profilePic}\r\n        loggedinFollowing={loggedinFollowing}\r\n        followUser={e => followUser(e, user.username, index)}\r\n        followLoading={followLoading}\r\n        followIndex={followIndex}\r\n        userIndex={index}\r\n        parentUserClicked={() => {}}\r\n      />\r\n    );\r\n  });\r\n\r\n  return renderFollowList;\r\n};\r\n\r\nexport default Users;\r\n","import React, { useEffect, useReducer, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport axios from \"../../axios\";\r\nimport history from \"../../history\";\r\nimport { FOLLOW_USER } from \"../../store/Actions/actionTypes\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\nimport \"./FollowList.scss\";\r\nimport Users from \"./Users/Users\";\r\n\r\nconst initialState = {\r\n  following: [],\r\n  followers: [],\r\n  username: null,\r\n  listLoading: false,\r\n  listError: null,\r\n  firstName: null,\r\n  lastName: null,\r\n  followLoading: false,\r\n  followIndex: 0,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"list_loading\":\r\n      return {\r\n        ...state,\r\n        listLoading: true,\r\n        listError: null,\r\n      };\r\n    case \"fetch_list\":\r\n      return {\r\n        ...state,\r\n        following: action.following,\r\n        followers: action.followers,\r\n        username: action.username,\r\n        firstName: action.firstName,\r\n        lastName: action.lastName,\r\n        listLoading: false,\r\n        listError: null,\r\n      };\r\n    case \"list_error\":\r\n      return {\r\n        ...state,\r\n        listLoading: false,\r\n        listError: action.listError,\r\n      };\r\n    case \"follow_loading\":\r\n      return {\r\n        ...state,\r\n        followLoading: true,\r\n        followIndex: action.followIndex,\r\n      };\r\n    case \"follow_user\":\r\n      if (action.resType === \"Add\") {\r\n        return {\r\n          ...state,\r\n        followers: [...state.followers, action.follower],\r\n          followLoading: false,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        followers: state.followers.filter(\r\n            (p) => p.username !== action.follower.username\r\n        ),\r\n          followLoading: false,\r\n        };\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst FollowList = (props) => {\r\n  const [listState, dispatch] = useReducer(reducer, initialState);\r\n  const dispatch2 = useDispatch();\r\n\r\n  const { userDetails } = useSelector((state) => state.user);\r\n\r\n  const [tabIndex, settabIndex] = useState(\r\n    history.location && history.location.state\r\n      ? history.location.state.tabIndex\r\n      : 0\r\n  );\r\n\r\n  const selectTabIndex = (index) => {\r\n    settabIndex(index);\r\n  };\r\n\r\n  const followUser = async (e, username, index) => {\r\n    e.stopPropagation();\r\n    dispatch({\r\n      type: \"follow_loading\",\r\n      followIndex: index,\r\n    });\r\n    const response = await axios.put(\r\n      `/user/follow/${username}`,\r\n      {},\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"accessToken\"),\r\n        },\r\n      }\r\n    );\r\n    dispatch2({\r\n      type: FOLLOW_USER,\r\n      newfollowingUser:\r\n        response.data && response.data.newfollowingUser\r\n          ? response.data.newfollowingUser\r\n          : null,\r\n    });\r\n    dispatch({\r\n      type: \"follow_user\",\r\n      follower: {\r\n        firstName: userDetails.firstName,\r\n        lastName: userDetails.lastName,\r\n        email: userDetails.email,\r\n        profilePic: userDetails.profilePic,\r\n        username: userDetails.username,\r\n      },\r\n      resType: response.data.type,\r\n    });\r\n    // if (response.data.type === \"Add\") {\r\n    //   setifFollowing(true);\r\n    // } else {\r\n    //   setifFollowing(false);\r\n    // }\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(history.location);\r\n    dispatch({ type: \"list_loading\" });\r\n    const getFollowList = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `/user/followList/${props.match.params.username}`,\r\n          {\r\n            headers: {\r\n              Authorization: \"Bearer \" + localStorage.getItem(\"accessToken\"),\r\n            },\r\n          }\r\n        );\r\n        console.log(response.data);\r\n        dispatch({\r\n          type: \"fetch_list\",\r\n          following: response.data.following,\r\n          followers: response.data.followers,\r\n          username: response.data.username,\r\n          firstName: response.data.firstName,\r\n          lastName: response.data.lastName,\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n        dispatch({\r\n          type: \"list_error\",\r\n          listError:\r\n            err.response && err.response.data && err.response.data.message\r\n              ? err.response.data.message\r\n              : err.message,\r\n        });\r\n      }\r\n    };\r\n    if (\r\n      !history.location ||\r\n      !history.location.state ||\r\n      !history.location.state.following\r\n    ) {\r\n      getFollowList();\r\n    } else {\r\n      dispatch({\r\n        type: \"fetch_list\",\r\n        following: history.location.state.following,\r\n        followers: history.location.state.followers,\r\n        username: history.location.state.username,\r\n        firstName: history.location.state.firstName,\r\n        lastName: history.location.state.lastName,\r\n      });\r\n    }\r\n  }, [props.match.params.username]);\r\n\r\n  return (\r\n    <div className=\"followlist\">\r\n      <h2>\r\n        {listState && listState.firstName}{\" \"}\r\n        {listState.lastName && listState.lastName}\r\n      </h2>\r\n      <div className=\"tabs\">\r\n        <Tabs onSelect={selectTabIndex} defaultIndex={tabIndex}>\r\n          <TabList>\r\n            <Tab>Following</Tab>\r\n            <Tab>Followers</Tab>\r\n          </TabList>\r\n\r\n          <TabPanel>\r\n            {listState.listLoading ? (\r\n              <Spinner width=\"60\" />\r\n            ) : listState.listError ? (\r\n              listState.listError\r\n            ) : (\r\n              <Users\r\n                following={listState.following}\r\n                followUser={followUser}\r\n                loggedinFollowing={userDetails ? userDetails.following : null}\r\n                tabIndex={tabIndex}\r\n                followLoading={listState.followLoading}\r\n                followIndex={listState.followIndex}\r\n              />\r\n            )}\r\n          </TabPanel>\r\n          <TabPanel>\r\n            {listState.listLoading ? (\r\n              <Spinner width=\"60\" />\r\n            ) : listState.listError ? (\r\n              listState.listError\r\n            ) : (\r\n              <Users\r\n                followers={listState.followers}\r\n                followUser={followUser}\r\n                loggedinFollowing={userDetails ? userDetails.following : null}\r\n                tabIndex={tabIndex}\r\n                followLoading={listState.followLoading}\r\n                followIndex={listState.followIndex}\r\n              />\r\n            )}\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FollowList;\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\r\nimport \"./User.scss\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst User = ({\r\n  username,\r\n  profilePic,\r\n  firstName,\r\n  lastName,\r\n  loggedinFollowing,\r\n  followUser,\r\n  followLoading,\r\n  followIndex,\r\n  userIndex,\r\n  parentUserClicked\r\n}) => {\r\n  const ifFollowing = loggedinFollowing\r\n    ? loggedinFollowing.findIndex((u) => u.username === username) > -1\r\n    : null;\r\n\r\n  return (\r\n    <div\r\n      className=\"userDet\"\r\n      key={username}\r\n      onClick={parentUserClicked}\r\n    >\r\n      <div className=\"details\">\r\n        <div className=\"picAndName\">\r\n          <img src={profilePic} alt={username} />\r\n          <Link className=\"firstlastname\" to={`/profile/${username}`} onClick={e => e.stopPropagation()}>\r\n            {firstName} {lastName}\r\n          </Link>\r\n          <span className=\"username\">@{username}</span>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"followBtn\"\r\n        style={{\r\n          display:\r\n            username === localStorage.getItem(\"userName\") || (!followUser || !loggedinFollowing)\r\n              ? \"none\"\r\n              : \"flex\",\r\n        }}\r\n      >\r\n        <button\r\n          style={{\r\n            backgroundColor: ifFollowing ? \"#00ACEE\" : \"white\",\r\n            color: ifFollowing ? \"white\" : \"#00ACEE\",\r\n          }}\r\n          disabled={followLoading && followIndex === userIndex}\r\n          onClick={followUser}\r\n        >\r\n          {ifFollowing ? \"Following\" : \"Follow\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n"],"sourceRoot":""}