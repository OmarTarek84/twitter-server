(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[11],{100:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var r=a(2),s=a(0),n=a(16),o=a(13),c=a(11),i=a(84),u=a(96);a(100);t.default=function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e.user})).errorMessage;Object(s.useEffect)((function(){e({type:c.CLEAR_USER_ERROR})}),[e]);return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("h2",{children:"Register"}),Object(r.jsx)(u.a,{submitForm:function(t){e(Object(i.d)(t))},errorMessage:t,defaultValues:{firstName:"",lastName:"",userName:"",email:"",password:"",confirmPassword:""},inputs:[{name:"firstName",placeholder:"First Name",type:"text",validationRules:{required:"First Name Is Required",pattern:/^[A-Za-z]+$/i}},{name:"lastName",placeholder:"Last Name",type:"text",validationRules:{required:"Last Name Is Required",pattern:/^[A-Za-z]+$/i}},{name:"userName",placeholder:"User Name",type:"text",validationRules:{required:"User Name Is Required"}},{name:"email",placeholder:"Email",type:"email",validationRules:{required:"Email Is Required",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Entered value does not match email format"}}},{name:"password",placeholder:"Password",type:"password",validationRules:{required:"Password Is Required"}},{name:"confirmPassword",placeholder:"Confirm Password",type:"password",validationRules:{required:"Confirm Password Is Required"}}],submitBtnText:"Register"}),Object(r.jsx)(o.a,{to:"/login",children:"Already Have Account? Please Login"})]})}},84:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return d}));var r=a(21),s=a.n(r),n=a(27),o=a(29),c=a(11),i=a(12),u=function(e){return function(){var t=Object(n.a)(s.a.mark((function t(a,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/auth/signup",e);case 3:i.a.push("/login"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:c.USER_ERROR,errorMessage:t.t0.response&&t.t0.response.data&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,a){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(n.a)(s.a.mark((function t(a,r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:c.AUTH_LOADING}),t.prev=1,t.next=4,o.a.post("/auth/login",e);case 4:n=t.sent,localStorage.setItem("accessToken",n.data.accessToken),localStorage.setItem("email",n.data.userDetails.email),localStorage.setItem("userName",n.data.userDetails.username),localStorage.setItem("firstName",n.data.userDetails.firstName),localStorage.setItem("lastName",n.data.userDetails.lastName),localStorage.setItem("profilePic",n.data.userDetails.profilePic),i.a.push("/"),a({type:c.LOGIN,token:n.data.accessToken,userDetails:n.data.userDetails}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),a({type:c.USER_ERROR,errorMessage:t.t0.response&&t.t0.response.data&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,a){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(n.a)(s.a.mark((function t(a,r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.put("/user/pinPost",{postId:e},{headers:{Authorization:"Bearer "+(r().user.token||localStorage.getItem("accessToken"))}});case 3:n=t.sent,console.log(n.data),a({type:c.PIN_POST,pinnedPost:n.data.pinnedPost,pintype:n.data.type}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:c.USER_ERROR,errorMessage:t.t0.response&&t.t0.response.data&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},d=function(e,t,a){return function(){var r=Object(n.a)(s.a.mark((function r(n,i){var u;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:c.USERS_LOADING}),r.next=4,o.a.get("/user/search?currentPage=".concat(e,"&pageSize=").concat(t,"&search=").concat(a),{headers:{Authorization:"Bearer "+(i().user.token||localStorage.getItem("accessToken"))}});case 4:u=r.sent,console.log(u.data),n({type:c.FETCH_USERS,userDetails:u.data.userDetails,currentPageUser:u.data.currentPage,pageSizeUser:u.data.pageSize,pagesUser:u.data.pages,totalItemsCountUser:u.data.totalItemsCount}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n({type:c.USER_ERROR,errorMessage:r.t0.response&&r.t0.response.data&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()}},89:function(e,t,a){},90:function(e,t,a){},96:function(e,t,a){"use strict";var r=a(2),s=a(1),n=(a(0),a(89),a(88)),o=(a(90),function(e){var t=e.type,a=e.name,s=e.placeholder,n=e.validationRules,o=e.register,c=e.errors;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{type:t,name:a,placeholder:s,ref:o(n)}),c&&c[a]&&Object(r.jsx)("p",{className:"error",children:c[a].message})]})}),c=a(28);t.a=function(e){var t=e.submitForm,a=e.defaultValues,i=e.inputs,u=e.errorMessage,l=e.submitBtnText,p=e.authLoading,d=Object(n.a)({defaultValues:a}),m=d.handleSubmit,f=d.register,g=d.errors,h=d.watch,v=i.map((function(e){return Object(r.jsx)("div",{className:"inputParent",children:Object(r.jsx)(o,{type:e.type,placeholder:e.placeholder,name:e.name,validationRules:"confirmPassword"===e.name?Object(s.a)(Object(s.a)({},e.validationRules),{},{validate:function(e){return e===h("password")||"Passwords don't match."}}):e.validationRules,register:f,errors:g})},e.name)}));return Object(r.jsxs)("form",{onSubmit:m(t),children:[v,u&&Object(r.jsx)("p",{className:"err",children:u}),p?Object(r.jsx)(c.a,{width:"40px"}):Object(r.jsx)("button",{type:"submit",children:l})]})}}}]);
//# sourceMappingURL=11.9c8aae50.chunk.js.map